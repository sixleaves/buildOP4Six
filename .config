# OpenWrt 完整配置文件 - 针对小米红米 AX6000 路由器优化 (包含 nftables 支持)
CONFIG_CCACHE=y
# 目标平台设置
CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_mt7986=y
CONFIG_TARGET_mediatek_mt7986_DEVICE_xiaomi_redmi-router-ax6000=y

# 启用多设备配置文件支持
CONFIG_TARGET_MULTI_PROFILE=y

# 固件压缩设置
CONFIG_TARGET_IMAGES_GZIP=y

# 文件系统支持
CONFIG_TARGET_ROOTFS_SQUASHFS=y

# 内核配置
CONFIG_KERNEL_KALLSYMS=y

# 系统和性能相关
CONFIG_DEVEL=y
CONFIG_TOOLCHAINOPTS=y
CONFIG_BUSYBOX_CUSTOM=y

# AP模式相关配置
CONFIG_PACKAGE_hostapd-common=y
CONFIG_PACKAGE_wpad-openssl=y
CONFIG_MTK_WPA3_SUPPORT=y
CONFIG_MTK_OWE_SUPPORT=y

# MTK特定配置
CONFIG_MTK_CHIP_MT7986=y
CONFIG_MTK_WIFI_DRIVER=y
CONFIG_MTK_WIFI_MODE_AP=m
CONFIG_MTK_MT_AP_SUPPORT=m
CONFIG_MTK_APCLI_SUPPORT=y
CONFIG_PACKAGE_kmod-mt_wifi=y
CONFIG_MTK_WIFI_MT_MAC=y
CONFIG_MTK_WIFI_TWT_SUPPORT=y
CONFIG_MTK_WIFI_SKU_TYPE="AX6000"
CONFIG_MTK_FIRST_IF_IPAILNA=y
CONFIG_MTK_WIFI_ADIE_TYPE="mt7976"
CONFIG_MTK_FIRST_IF_EEPROM_FLASH=y
CONFIG_MTK_WIFI_BASIC_FUNC=y

# 高级 Wi-Fi 配置
CONFIG_MTK_MBSS_SUPPORT=y
CONFIG_MTK_MUMIMO_SUPPORT=y
CONFIG_MTK_MU_RA_SUPPORT=y
CONFIG_MTK_DOT11K_RRM_SUPPORT=y
CONFIG_MTK_AMPDU_CONF_SUPPORT=y
CONFIG_MTK_MBSS_DTIM_SUPPORT=y

# LuCI配置
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-compat=y
CONFIG_PACKAGE_luci-lib-base=y
CONFIG_PACKAGE_luci-lib-ip=y
CONFIG_PACKAGE_luci-lib-jsonc=y
CONFIG_PACKAGE_luci-lib-nixio=y

# LuCI应用
CONFIG_PACKAGE_luci-app-mtwifi-cfg=y
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-opkg=y

# LuCI主题
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-theme-bootstrap=y

# 系统更新工具
CONFIG_PACKAGE_luci-app-attendedsysupgrade=y

# 网络相关包
CONFIG_PACKAGE_ip6tables=y
CONFIG_PACKAGE_iptables=y
CONFIG_PACKAGE_ipset=y
CONFIG_PACKAGE_iw=y
CONFIG_PACKAGE_odhcp6c=y
CONFIG_PACKAGE_odhcpd-ipv6only=y
CONFIG_PACKAGE_ppp=y
CONFIG_PACKAGE_ppp-mod-pppoe=y

# 系统工具
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_nano=y
CONFIG_PACKAGE_wget=y
CONFIG_PACKAGE_zram-swap=y

# OpenSSL配置
CONFIG_OPENSSL_ENGINE=y
CONFIG_OPENSSL_OPTIMIZE_SPEED=y
CONFIG_OPENSSL_WITH_ASM=y
CONFIG_OPENSSL_WITH_CHACHA_POLY1305=y
CONFIG_OPENSSL_WITH_CMS=y

# 其他包
CONFIG_PACKAGE_openssh-sftp-server=y
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_PACKAGE_kmod-usb-ohci=y
CONFIG_PACKAGE_kmod-usb2=y

# 内核模块
CONFIG_PACKAGE_kmod-crypto-aead=y
CONFIG_PACKAGE_kmod-crypto-ccm=y
CONFIG_PACKAGE_kmod-crypto-cmac=y
CONFIG_PACKAGE_kmod-crypto-crc32c=y
CONFIG_PACKAGE_kmod-crypto-hash=y
CONFIG_PACKAGE_kmod-crypto-null=y
CONFIG_PACKAGE_kmod-crypto-sha1=y
CONFIG_PACKAGE_kmod-crypto-sha256=y

# IPv6支持
CONFIG_PACKAGE_ipv6helper=y
CONFIG_PACKAGE_dnsmasq_full_dhcpv6=y

# nftables 支持
CONFIG_PACKAGE_nftables=y
CONFIG_PACKAGE_kmod-nft-core=y
CONFIG_PACKAGE_kmod-nft-nat=y
CONFIG_PACKAGE_kmod-nft-offload=y

# nftables 相关的 LuCI 应用
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-nft-qos=y

# 其他可能用到 nftables 的包
CONFIG_PACKAGE_iptables-nft=y
CONFIG_PACKAGE_ip6tables-nft=y

# 启用 nftables 的 FullCone NAT 支持
CONFIG_PACKAGE_kmod-nft-fullcone=y

# 保留 iptables 兼容性
CONFIG_PACKAGE_iptables-legacy=y
CONFIG_PACKAGE_ip6tables-legacy=y

# 防火墙配置
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_kmod-ipt-offload=y

# 其他网络相关配置
CONFIG_PACKAGE_kmod-tcp-bbr=y

# SQM QoS
CONFIG_PACKAGE_luci-app-sqm=y
CONFIG_PACKAGE_sqm-scripts=y

# 网络诊断工具
CONFIG_PACKAGE_bind-dig=y
CONFIG_PACKAGE_nmap-ssl=y
CONFIG_PACKAGE_whois=y

# 添加以下配置以增加稳定性
CONFIG_KERNEL_MIPS_FPU_EMULATOR=y
CONFIG_KERNEL_MIPS_FP_SUPPORT=y

# 添加以下配置以支持更多功能
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_fdisk=y
CONFIG_PACKAGE_lsblk=y
CONFIG_PACKAGE_mdadm=y
CONFIG_PACKAGE_partx-utils=y

# 添加以下配置以支持文件系统
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-ntfs=y
CONFIG_PACKAGE_kmod-fs-vfat=y

# 添加以下配置以支持网络共享
CONFIG_PACKAGE_luci-app-samba4=y
CONFIG_PACKAGE_samba4-server=y

# 添加以下配置以支持 Docker（如果需要）
CONFIG_PACKAGE_luci-app-docker=y
CONFIG_PACKAGE_docker=y
CONFIG_PACKAGE_dockerd=y
